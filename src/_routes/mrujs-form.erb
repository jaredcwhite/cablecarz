---<%
r.get do
  render_with data: {
    layout: :default
  }
end

r.post do
  sleep 1
  cable_car
    .append("#server-time", html: <<~HTML).dispatch
      <li>The Time is #{Time.now}</li>
    HTML
end
%>---

<p>(Note: it may take a moment at first for the free Render backend tier to wake up…)</p>

<form method="POST" data-remote="true">
<input type="submit" value="Submit me and get CableCar JSON back!" data-disable-with="Submitting…">
</form>

<ul id="server-time"></ul>

<script>
  document.querySelector("form").addEventListener("ajax:complete", () => { console.info("Form complete") })
  document.querySelector("input[type=submit]").addEventListener("ajax:complete", () => { console.info("Button complete") })
</script>